{"version":3,"file":"js/380.60fa82a7.js","mappings":"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","sources":["webpack://vue_toutiao/./src/components/ArtItem/ArtItem.vue","webpack://vue_toutiao/./src/api/reports.js","webpack://vue_toutiao/src/components/ArtItem/ArtItem.vue","webpack://vue_toutiao/./src/components/ArtItem/ArtItem.vue?9171","webpack://vue_toutiao/./src/components/ArtItem/ArtItem.vue?c60b","webpack://vue_toutiao/./src/views/SearchResult/SearchResult.vue","webpack://vue_toutiao/src/views/SearchResult/SearchResult.vue","webpack://vue_toutiao/./src/views/SearchResult/SearchResult.vue?8629","webpack://vue_toutiao/./src/views/SearchResult/SearchResult.vue?ab83","webpack://vue_toutiao/./src/api/homeAPI.js","webpack://vue_toutiao/./src/api/searchAPI.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{on:{\"click\":function($event){return _vm.$router.push('/article/' + _vm.artId)}}},[_c('van-cell',{scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"title-box\"},[_c('span',[_vm._v(_vm._s(_vm.article.title))]),(_vm.article.cover.type === 1)?_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.article.cover.images[0]),expression:\"article.cover.images[0]\"}],staticClass:\"thumb\",attrs:{\"alt\":\"\"}}):_vm._e()]),(_vm.article.cover.type === 3)?_c('div',{staticClass:\"thumb-box\"},_vm._l((_vm.article.cover.images),function(item,index){return _c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item),expression:\"item\"}],key:index,staticClass:\"thumb\",attrs:{\"alt\":\"\"}})}),0):_vm._e()]},proxy:true},{key:\"label\",fn:function(){return [_c('div',{staticClass:\"label-box\"},[_c('span',[_vm._v(_vm._s(_vm.article.aut_name)+\"    \"+_vm._s(_vm.article.comm_count)+\"评论    \"+_vm._s(_vm._f(\"dateFormat\")(_vm.article.pubdate)))]),(_vm.closable)?_c('van-icon',{attrs:{\"name\":\"cross\"},on:{\"click\":function($event){$event.stopPropagation();_vm.show = true}}}):_vm._e()],1)]},proxy:true}])}),_c('van-action-sheet',{attrs:{\"cancel-text\":\"取消\",\"closeable\":false,\"get-container\":\"body\"},on:{\"closed\":function($event){_vm.isFirst = true}},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[(_vm.isFirst)?_c('div',_vm._l((_vm.actions),function(item){return _c('van-cell',{key:item.name,staticClass:\"center-title\",attrs:{\"title\":item.name,\"clickable\":\"\"},on:{\"click\":function($event){return _vm.onCellClick(item.name)}}})}),1):_c('div',[_c('van-cell',{attrs:{\"title\":\"返回\",\"clickable\":\"\",\"title-class\":\"center-title\"},on:{\"click\":function($event){_vm.isFirst = true}}}),_vm._l((_vm.reports),function(item){return _c('van-cell',{key:item.type,attrs:{\"title\":item.label,\"clickable\":\"\",\"title-class\":\"center-title\"},on:{\"click\":function($event){return _vm.reportArticle(item.type)}}})})],2)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// 以模块的方式导出\"举报文章\"时，后端接口约定的举报类型\r\nconst reports = [\r\n  {\r\n    type: 0,\r\n    label: '其它问题'\r\n  },\r\n  {\r\n    type: 1,\r\n    label: '标题夸张'\r\n  },\r\n  {\r\n    type: 2,\r\n    label: '低俗色情'\r\n  },\r\n  {\r\n    type: 3,\r\n    label: '错别字多'\r\n  },\r\n  {\r\n    type: 4,\r\n    label: '旧闻重复'\r\n  },\r\n  {\r\n    type: 6,\r\n    label: '内容不实'\r\n  },\r\n  {\r\n    type: 8,\r\n    label: '侵权'\r\n  },\r\n  {\r\n    type: 5,\r\n    label: '广告软文'\r\n  },\r\n  {\r\n    type: 7,\r\n    label: '涉嫌违法犯罪'\r\n  }\r\n]\r\nexport default reports","<template>\r\n  <div @click=\"$router.push('/article/' + artId)\">\r\n    <van-cell>\r\n      <!-- 标题区域的插槽 -->\r\n      <template #title>\r\n        <div class=\"title-box\">\r\n          <!-- 标题 -->\r\n          <span>{{ article.title }}</span>\r\n          <!-- 单张图片 -->\r\n          <img alt=\"\" class=\"thumb\" v-if=\"article.cover.type === 1\" v-lazy=\"article.cover.images[0]\">\r\n        </div>\r\n        <!-- 三张图片 -->\r\n        <div class=\"thumb-box\" v-if=\"article.cover.type === 3\">\r\n          <img alt=\"\" class=\"thumb\" v-for=\"(item, index) in article.cover.images\" :key=\"index\" v-lazy=\"item\">\r\n        </div>\r\n      </template>\r\n      <!-- label 区域的插槽 -->\r\n      <template #label>\r\n        <div class=\"label-box\">\r\n          <span>{{ article.aut_name }} &nbsp;&nbsp; {{ article.comm_count }}评论 &nbsp;&nbsp; {{ article.pubdate |\r\n              dateFormat\r\n          }}</span>\r\n          <!-- 关闭按钮 -->\r\n          <van-icon name=\"cross\" @click.stop=\"show = true\" v-if=\"closable\" />\r\n        </div>\r\n      </template>\r\n    </van-cell>\r\n\r\n    <!-- 反馈的动作面板 -->\r\n    <van-action-sheet v-model=\"show\" cancel-text=\"取消\" :closeable=\"false\" @closed=\"isFirst = true\" get-container=\"body\">\r\n      <!-- 第一级反馈面板 -->\r\n      <div v-if=\"isFirst\">\r\n        <!-- 循环渲染可选项 -->\r\n        <van-cell :title=\"item.name\" clickable class=\"center-title\" v-for=\"item in actions\" :key=\"item.name\"\r\n          @click=\"onCellClick(item.name)\" />\r\n      </div>\r\n      <!-- 第二级反馈面板 -->\r\n      <div v-else>\r\n        <van-cell title=\"返回\" clickable title-class=\"center-title\" @click=\"isFirst = true\" />\r\n        <van-cell :title=\"item.label\" clickable title-class=\"center-title\" v-for=\"item in reports\" :key=\"item.type\"\r\n          @click=\"reportArticle(item.type)\" />\r\n      </div>\r\n    </van-action-sheet>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport reports from '@/api/reports'\r\nimport { dislikeArticleAPI, reportArticleAPI } from '@/api/homeAPI.js'\r\nexport default {\r\n  name: 'ArtItem',\r\n  props: {\r\n    // 文章的信息对象\r\n    article: {\r\n      type: Object, // 数据类型\r\n      required: true // 必填项\r\n    },\r\n    // 是否展示关闭按钮\r\n    closable: {\r\n      type: Boolean,\r\n      // 默认值为 true，表示展示关闭按钮\r\n      default: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      // 是否展示反馈面板\r\n      show: false,\r\n      // 第一个面板的可选项列表\r\n      actions: [\r\n        { name: '不感兴趣' },\r\n        { name: '反馈垃圾内容' },\r\n        { name: '拉黑作者' }\r\n      ],\r\n      // 是否展示第一个反馈面板\r\n      isFirst: true,\r\n      // 第二个面板的可选项列表，数组中每一项的格式 { type, label }\r\n      reports\r\n    }\r\n  },\r\n  methods: {\r\n    // 一级选项的点击事件处理函数\r\n    async onCellClick (name) {\r\n      if (name === '不感兴趣') {\r\n        // 调用 API 接口，将文章设置为不感兴趣\r\n        const { data: res } = await dislikeArticleAPI(this.artId)\r\n        if (res.message === 'OK') {\r\n          // TODO：炸楼的操作\r\n          this.$emit('remove-article', this.artId)\r\n        }\r\n        this.show = false\r\n\r\n      } else if (name === '拉黑作者') {\r\n        console.log('拉黑作者')\r\n        this.show = false\r\n\r\n      } else if (name === '反馈垃圾内容') {\r\n        // TODO：展示二级反馈面板\r\n        this.isFirst = false\r\n      }\r\n    },\r\n    // 举报文章（形参 type 是举报的类型值）\r\n    async reportArticle (type) {\r\n      // 1. 发起举报文章的请求\r\n      const { data: res } = await reportArticleAPI(this.artId, type)\r\n      if (res.message === 'OK') {\r\n        // 2. 炸楼操作，触发自定义事件，把文章 Id 发送给父组件\r\n        this.$emit('remove-article', this.artId)\r\n      }\r\n      // 3. 关闭动作面板\r\n      this.show = false\r\n    }\r\n  },\r\n  computed: {\r\n    // 文章 Id 的计算属性\r\n    artId () {\r\n      // 注意：文章对象的 art_id 是大数对象，需要调用 .toString() 方法转换为字符串形式\r\n      return this.article.art_id.toString()\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.label-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.thumb {\r\n  // 矩形黄金比例：0.618\r\n  width: 113px;\r\n  height: 70px;\r\n  background-color: #f8f8f8;\r\n  object-fit: cover;\r\n}\r\n\r\n.title-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: flex-start;\r\n}\r\n\r\n.thumb-box {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.center-title {\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArtItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./ArtItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArtItem.vue?vue&type=template&id=326e8220&scoped=true&\"\nimport script from \"./ArtItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ArtItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ArtItem.vue?vue&type=style&index=0&id=326e8220&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"326e8220\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"search-result-container\"},[_c('van-nav-bar',{attrs:{\"title\":\"搜索结果\",\"left-arrow\":\"\",\"fixed\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}}}),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多数据了\",\"immediate-check\":false},on:{\"load\":_vm.onLoad},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.searchList),function(item){return _c('art-item',{key:item.art_id.toString(),attrs:{\"article\":item,\"closable\":false}})}),1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"search-result-container\">\r\n    <!-- 点击实现后退效果 -->\r\n    <van-nav-bar title=\"搜索结果\" left-arrow @click-left=\"$router.back()\" fixed />\r\n\r\n    <!-- 上拉加载更多 -->\r\n    <van-list v-model=\"loading\" :finished=\"finished\" finished-text=\"没有更多数据了\" @load=\"onLoad\" :immediate-check=\"false\">\r\n      <!-- 文章的 Item 项 -->\r\n      <art-item v-for=\"item in searchList\" :key=\"item.art_id.toString()\" :article=\"item\" :closable=\"false\"></art-item>\r\n    </van-list>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getSearchResultAPI } from '@/api/searchAPI.js'\r\nimport ArtItem from '@/components/ArtItem/ArtItem.vue'\r\nexport default {\r\n  name: 'SearchResult',\r\n  props: ['kw'],\r\n  data () {\r\n    return {\r\n      // 页码值\r\n      page: 1,\r\n      // 搜索的结果\r\n      searchList: [],\r\n      // 是否正在进行上拉加载的数据请求\r\n      loading: false,\r\n      // 所有数据是否已经加载完毕\r\n      finished: false\r\n    }\r\n  },\r\n  created () {\r\n    this.initSearchList()\r\n  },\r\n  methods: {\r\n    // 获取搜索的结果\r\n    async initSearchList () {\r\n      // 调用 API 接口\r\n      const { data: res } = await getSearchResultAPI(this.kw, this.page)\r\n      if (res.message === 'OK') {\r\n        // 1. 拼接数据：“旧数据”在前，“新数据”在后\r\n        this.searchList = [...this.searchList, ...res.data.results]\r\n        // 2. 将 loading 设置为 false\r\n        this.loading = false\r\n        // 3. 判断数据是否加载完毕\r\n        if (res.data.results.length === 0) {\r\n          this.finished = true\r\n        }\r\n        // 4. 让页码值 +1\r\n        this.page += 1\r\n      }\r\n    },\r\n    // 触发了上拉加载更多\r\n    onLoad () {\r\n      this.initSearchList()\r\n    }\r\n  },\r\n  beforeRouteLeave (to, from, next) {\r\n    from.meta.top = window.scrollY\r\n    setTimeout(() => {\r\n      next()\r\n    }, 0)\r\n  },\r\n  watch: {\r\n    kw () {\r\n      // 1. 重置关键数据\r\n      this.page = 1\r\n      this.artList = []\r\n      this.loading = false\r\n      this.finished = false\r\n\r\n      // 2. 请求数据\r\n      this.initSearchList()\r\n    }\r\n  },\r\n  components: {\r\n    // 注册组件\r\n    ArtItem\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.search-result-container {\r\n  padding-top: 46px;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=2848de5c&scoped=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=2848de5c&prod&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2848de5c\",\n  null\n  \n)\n\nexport default component.exports","// 导入请求数据的 request 模块\r\nimport request from '@/utils/request'\r\n\r\n// 请求用户频道列表数据的 API\r\nexport const getUserChannelAPI = () => {\r\n  return request.get('/v1_0/user/channels')\r\n}\r\n\r\n// 根据频道 Id 请求频道下的文章列表数据\r\nexport const getArtListAPI = (id, time) => {\r\n  return request.get('/v1_0/articles', {\r\n    params: {\r\n      channel_id: id, // 频道的 Id\r\n      timestamp: time, // 时间戳\r\n    }\r\n  })\r\n}\r\n\r\n// 将文章设置为不感兴趣（形参 id 是文章的 id）\r\nexport const dislikeArticleAPI = id => {\r\n  return request.post('/v1_0/article/dislikes', {\r\n    target: id\r\n  })\r\n}\r\n\r\n// 举报文章的 API\r\nexport const reportArticleAPI = (target, type) => {\r\n  return request.post('/v1_0/article/reports', {\r\n    target, // 文章的 Id\r\n    type // 举报的类型\r\n  })\r\n}\r\n\r\n// 获取所有频道数据的 API\r\nexport const getAllChannelAPI = () => {\r\n  return request.get('/v1_0/channels')\r\n}\r\n\r\n// 更新用户频道列表数据的 API\r\n// 注意：形参 channels 是一个数组，格式： [ {id, seq} ]\r\nexport const updateUserChannelAPI = channels => {\r\n  return request.put('/v1_0/user/channels', {\r\n    channels\r\n  })\r\n}","import request from '@/utils/request.js'\r\n\r\n// 获取搜索建议列表数据的 API\r\nexport const getSuggestListAPI = kw => {\r\n  return request.get('/v1_0/suggestion', {\r\n    // 注意：GET 请求的参数，要通过 params 提供\r\n    params: {\r\n      q: kw\r\n    }\r\n  })\r\n}\r\n\r\n// 封装搜索文章数据的 API\r\nexport const getSearchResultAPI = (kw, page) => {\r\n  return request.get('/v1_0/search', {\r\n    params: {\r\n      q: kw, // 搜索关键词\r\n      page // 页码值\r\n    }\r\n  })\r\n}"],"names":["render","_vm","this","_c","_self","on","$event","$router","push","artId","scopedSlots","_u","key","fn","staticClass","_v","_s","article","title","cover","type","directives","name","rawName","value","images","expression","attrs","_e","_l","item","index","proxy","aut_name","comm_count","_f","pubdate","closable","stopPropagation","show","isFirst","model","callback","$$v","actions","onCellClick","reports","label","reportArticle","staticRenderFns","props","required","default","data","methods","console","computed","component","back","finished","onLoad","loading","searchList","art_id","toString","page","created","beforeRouteLeave","from","setTimeout","next","watch","kw","components","ArtItem","getUserChannelAPI","request","getArtListAPI","id","time","params","channel_id","timestamp","dislikeArticleAPI","target","reportArticleAPI","getAllChannelAPI","updateUserChannelAPI","channels","getSuggestListAPI","q","getSearchResultAPI"],"sourceRoot":""}